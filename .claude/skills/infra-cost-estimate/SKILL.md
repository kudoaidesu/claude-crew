---
name: infra-cost-estimate
description: インフラ構成でのアクティブユーザー数別の経費を試算する。Vercel、Supabase、その他SaaSの料金プランを基にスケーリングコストを算出。トリガーワード：「経費試算」「コスト試算」「インフラ費用」「月額費用」「料金見積もり」「cost estimate」「ランニングコスト」「いくらかかる」「ActiveUser」「アクティブユーザー」。
---

# インフラ経費試算

## ワークフロー

### 1. 現在のインフラ構成の確認

プロジェクトの構成を確認:
```bash
# Vercel設定
cat vercel.json 2>/dev/null || echo "vercel.json なし"

# Supabase設定
cat supabase/config.toml 2>/dev/null | head -20

# package.json の関連設定
grep -E "vercel|supabase|sentry|analytics" package.json
```

### 2. 使用サービスの特定

| サービス | 用途 | 現在のプラン |
|---------|------|-------------|
| Vercel | ホスティング・CDN・Serverless Functions | Free / Pro |
| Supabase | DB・認証・Storage・Edge Functions | Free / Pro |
| （その他） | ... | ... |

### 3. 使用量モデルの算出

Active User 100人あたりの推定使用量:

| リソース | 計算式 | 100AU あたり |
|---------|--------|------------|
| ページビュー/月 | AU × 30日 × 5PV/日 | 15,000 PV |
| API コール/月 | AU × 30日 × 20回/日 | 60,000回 |
| DB 読み取り/月 | API コール × 3クエリ | 180,000回 |
| DB 書き込み/月 | AU × 30日 × 2回/日 | 6,000回 |
| Storage | 画像数 × 平均サイズ | 推定値 |
| 帯域幅/月 | PV × 平均ページサイズ | 推定値 |

**注意**: 上記はデフォルト値。実際のアプリの特性に合わせて調整する。

### 4. 料金計算

各サービスの最新料金を Web 検索で確認してから計算する:

```
Web検索: "Vercel pricing 2026"
Web検索: "Supabase pricing 2026"
```

#### Vercel 料金体系（要最新確認）

| プラン | 月額 | Serverless 実行 | 帯域幅 |
|-------|------|----------------|--------|
| Hobby | $0 | 100GB-hrs | 100GB |
| Pro | $20/user | 1000GB-hrs | 1TB |

#### Supabase 料金体系（要最新確認）

| プラン | 月額 | DB容量 | Storage | Edge Function 実行 |
|-------|------|--------|---------|-------------------|
| Free | $0 | 500MB | 1GB | 500K/月 |
| Pro | $25 | 8GB | 100GB | 2M/月 |

### 5. コスト試算テーブル

```markdown
## インフラ経費試算

### 前提条件
- アプリ種別: （イベント情報閲覧サイト）
- 1AU あたりの月間行動: PV × 回, API × 回, 書込み × 回

### AU別月額コスト

| Active Users | Vercel | Supabase | その他 | 合計/月 | 1AU単価 |
|-------------|--------|----------|--------|---------|---------|
| 100 | $0 | $0 | $0 | $0 | $0 |
| 500 | $0 | $0 | $0 | $0 | $0 |
| 1,000 | $20 | $25 | $0 | $45 | ¥6.5 |
| 5,000 | $20 | $25 | $0 | $45 | ¥1.3 |
| 10,000 | $20 | $75 | $0 | $95 | ¥1.4 |

### プラン変更ポイント
- **AU 〜500**: Free プランで運用可能
- **AU 500〜**: Supabase Pro への移行が必要（DB容量 or API制限）
- **AU 5,000〜**: Vercel Pro への移行が必要（帯域幅）
- **AU 10,000〜**: Supabase のスケーリング料金が発生

### コスト最適化の提案
1. ...
2. ...

### 月額1万円制約との照合
- **安全圏**: AU 〜XXX
- **要注意**: AU XXX〜
- **超過**: AU XXX〜
```

## 注意事項

- 料金は為替レートの変動あり（1USD = 150JPY で概算）
- 最新の料金プランを Web 検索で必ず確認する
- Free プランの制限（同時接続数、レート制限等）も考慮する
- トラフィックのスパイク（イベント告知時等）も言及する
